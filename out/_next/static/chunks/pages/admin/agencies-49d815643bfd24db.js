(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[462],{3184:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(7462),a=t(3366),c=t(7294),i=t(6010),o=t(4780),s=t(4063),u=t(1657),l=t(948),p=t(5677);function d(e){return(0,p.Z)("MuiTableHead",e)}(0,t(1588).Z)("MuiTableHead",["root"]);var f=t(5893);const x=["className","component"],h=(0,l.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,n)=>n.root})({display:"table-header-group"}),b={variant:"head"},v="thead";var Z=c.forwardRef((function(e,n){const t=(0,u.Z)({props:e,name:"MuiTableHead"}),{className:c,component:l=v}=t,p=(0,a.Z)(t,x),Z=(0,r.Z)({},t,{component:l}),g=(e=>{const{classes:n}=e;return(0,o.Z)({root:["root"]},d,n)})(Z);return(0,f.jsx)(s.Z.Provider,{value:b,children:(0,f.jsx)(h,(0,r.Z)({as:l,className:(0,i.Z)(g.root,c),ref:n,role:l===v?null:"rowgroup",ownerState:Z},p))})}))},33:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/agencies",function(){return t(9054)}])},5510:function(e,n,t){"use strict";t.d(n,{$I:function(){return p},N3:function(){return x},St:function(){return d},kL:function(){return l},vY:function(){return f},wC:function(){return h}});var r=t(7568),a=t(4051),c=t.n(a),i=t(9662),o=t(9783),s="http://localhost:8080/api/v1/application/agency",u=function(e){return{authorization:"Bearer "+e,spsecretkey:i.q}},l=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post(s+"/retrieve",{},{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post(s+"/retrieve/formid",{formId:t},{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post(s+"/retrieve/agencyid",{agencyId:t},{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(n,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post(s+"/create",t,{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(c().mark((function e(n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.post(s+"/retrieve/all",{},{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(n,t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.b.patch(s+"/"+t,{status:r},{headers:u(n)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}()},9054:function(e,n,t){"use strict";t.r(n);var r=t(7568),a=t(4051),c=t.n(a),i=t(5893),o=t(7294),s=t(9662),u=t(5510),l=t(6886),p=t(913),d=t(3841),f=t(315),x=t(3599),h=t(7906),b=t(3184),v=t(3816),Z=t(3252),g=t(295),w=t(3321),j=t(1163),m=t(1001);function k(e){var n=e.formList,t=(e.token,e.user,(0,j.useRouter)()),r=(0,o.useState)("pending"),a=r[0],c=r[1],s=(0,o.useState)(n.filter((function(e){return"pending"==e.applicationStatus}))),u=s[0],k=s[1];return(0,i.jsx)(l.ZP,{container:!0,justifyContent:"center",style:{marginTop:"3%"},children:(0,i.jsxs)(l.ZP,{container:!0,justifyContent:"center",style:{width:"60%"},children:[(0,i.jsxs)(l.ZP,{container:!0,justifyContent:"space-between",children:[(0,i.jsx)("h3",{children:"Agency Application Requests"}),(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(d.Z,{children:"Status"}),(0,i.jsx)(f.Z,{name:"filter",label:"Status",value:a,onChange:function(e){c(e.target.value),"all"==e.target.value?k(n):(u=n.filter((function(n){return n.applicationStatus==e.target.value})),k(u))},children:["all","pending","approved","rejected"].map((function(e,n){return(0,i.jsxs)(x.Z,{value:e,children:[" ",e.toUpperCase()," "]},n)}))})]})]}),(0,i.jsxs)(h.Z,{border:!0,size:"medium",sx:{tableLayout:"auto"},children:[(0,i.jsx)(b.Z,{children:(0,i.jsxs)(v.Z,{sx:{border:"1px solid black"},children:[(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Agency Id"}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Agency Name"}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Agency Email"}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Agency Type"}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Application Status"}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"18px"},align:"center",children:"Review"})]})}),(0,i.jsx)(g.Z,{children:u.map((function(e,n){return(0,i.jsxs)(v.Z,{sx:{border:"1px solid black"},children:[(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px"},align:"center",children:e.agencyId}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px"},align:"center",children:e.name}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px"},align:"center",children:e.email}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px"},align:"center",children:e.type}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px",color:"pending"==e.applicationStatus?m.lr:"rejected"==e.applicationStatus?m.E7:m.nq},align:"center",children:e.applicationStatus.toUpperCase()}),(0,i.jsx)(Z.Z,{sx:{border:"1px solid black",fontSize:"16px"},align:"center",children:(0,i.jsx)(w.Z,{onClick:function(n){n.preventDefault(),t.push("/admin/review/agency/"+e.formId)},children:"Review"})})]},n)}))})]})]})})}n.default=k,k.getInitialProps=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r,a,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.req,r=(0,s.h)(t),a=r.token,i=r.user,e.next=4,(0,u.N3)(a);case 4:return o=e.sent,e.abrupt("return",{formList:o,token:a,user:i});case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}},function(e){e.O(0,[453,592,774,888,179],(function(){return n=33,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
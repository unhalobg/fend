(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{1671:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/review/agency/[id]",function(){return n(617)}])},5510:function(e,t,n){"use strict";n.d(t,{$I:function(){return d},N3:function(){return h},St:function(){return l},kL:function(){return p},vY:function(){return f},wC:function(){return x}});var r=n(7568),a=n(4051),s=n.n(a),i=n(9662),u=n(9783),c="http://localhost:8080/api/v1/application/agency",o=function(e){return{authorization:"Bearer "+e,spsecretkey:i.q}},p=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(c+"/retrieve",{},{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(c+"/retrieve/formid",{formId:n},{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(c+"/retrieve/agencyid",{agencyId:n},{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(c+"/create",n,{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.post(c+"/retrieve/all",{},{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)(s().mark((function e(t,n,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.patch(c+"/"+n,{status:r},{headers:o(t)}).then((function(e){return e.data})).catch((function(e){throw e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()},4098:function(e,t,n){"use strict";var r=n(5893),a=n(3816),s=n(3252);n(7294);t.Z=function(e){var t=e.title,n=e.value;return(0,r.jsxs)(a.Z,{sx:{padding:"10px 18px",border:"1px solid black"},children:[(0,r.jsx)(s.Z,{component:"th",scope:"row",sx:{borderLeft:"1px solid black",borderBottom:"1px solid black",fontSize:"16px",width:"25%"},children:t}),(0,r.jsx)(s.Z,{align:"left",sx:{paddingLeft:"10px",borderLeft:"1px solid black",borderBottom:"1px solid black",fontSize:"18px",fontWeight:"bold"},children:n})]},"")}},617:function(e,t,n){"use strict";n.r(t);var r=n(7568),a=n(4051),s=n.n(a),i=n(5893),u=(n(7294),n(6886)),c=n(5861),o=n(7906),p=n(295),d=n(3321),l=n(5510),f=n(9662),h=n(4098),x=n(1001),v=n(1163);function j(e){e.id;var t,n,a=e.formData,f=(e.user,e.token),j=(0,v.useRouter)(),m=function(){var e=(0,r.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,(0,l.wC)(f,a.formId,n);case 3:j.reload();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,i.jsxs)(u.ZP,{container:!0,justifyContent:"center",style:{margin:"3% 0%"},children:[(0,i.jsxs)(u.ZP,{container:!0,justifyContent:"center",style:{width:"60%"},children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)("h2",{children:"Application Status"})}),(0,i.jsxs)(o.Z,{border:!0,size:"medium",sx:{tableLayout:"auto"},children:[(0,i.jsx)("h3",{children:"Agency Information "}),(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(h.Z,{title:"Agency ID",value:a.agencyId}),(0,i.jsx)(h.Z,{title:"Ageny Name",value:a.name}),(0,i.jsx)(h.Z,{title:"Ageny Type",value:a.type}),(0,i.jsx)(h.Z,{title:"Email",value:a.email}),(0,i.jsx)(h.Z,{title:"Phone",value:a.phone}),(0,i.jsx)(h.Z,{title:"Fax",value:null!==(t=a.fax)&&void 0!==t?t:"N/A"}),(0,i.jsx)(h.Z,{title:"Website",value:null!==(n=a.website)&&void 0!==n?n:"N/A"}),(0,i.jsx)(h.Z,{title:"Business Address",value:JSON.parse(a.businessAddress).street+" "+JSON.parse(a.businessAddress).unit+", "+JSON.parse(a.businessAddress).city+", "+JSON.parse(a.businessAddress).state+" "+JSON.parse(a.businessAddress).zipcode+", "+JSON.parse(a.businessAddress).country}),(0,i.jsx)(h.Z,{title:"Mailing Address",value:JSON.parse(a.mailingAddress).street+" "+JSON.parse(a.mailingAddress).unit+", "+JSON.parse(a.mailingAddress).city+", "+JSON.parse(a.mailingAddress).state+" "+JSON.parse(a.mailingAddress).zipcode+", "+JSON.parse(a.mailingAddress).country}),(0,i.jsx)(h.Z,{title:"Preferred Contacts",value:JSON.parse(a.prefferedContacts).filter((function(e){return e.checked})).map((function(e,t){return(0,i.jsxs)(u.ZP,{item:!0,children:[" - ",e.title," "]},t)}))}),(0,i.jsx)(h.Z,{title:"Application Status",value:(0,i.jsx)("p",{style:{color:"pending"==a.applicationStatus?x.lr:"rejected"==a.applicationStatus?x.E7:x.nq},children:a.applicationStatus.toUpperCase()})})]})]}),(0,i.jsxs)(o.Z,{border:!0,size:"medium",sx:{tableLayout:"auto",mt:"20px"},children:[(0,i.jsx)("h3",{children:"Agent Information "}),(0,i.jsxs)(p.Z,{children:[(0,i.jsx)(h.Z,{title:"Agent ID",value:a.agencyId}),(0,i.jsx)(h.Z,{title:"Full Name",value:a.agentTitle+". "+a.agentFirstName+" "+a.agentMiddleName+" "+a.agentLastName}),(0,i.jsx)(h.Z,{title:"Email",value:a.agentEmail}),(0,i.jsx)(h.Z,{title:"Phone",value:a.agentPhone})]})]})]}),"approved"==a.applicationStatus?(0,i.jsx)(u.ZP,{container:!0,xs:0,justifyContent:"center",style:{padding:"10px 10px"},children:(0,i.jsx)(d.Z,{onClick:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t,"pending");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),variant:"contained",sx:{backgroundColor:x.E7},children:"Cancel Approval"})}):"rejected"==a.applicationStatus?(0,i.jsx)(u.ZP,{container:!0,xs:0,justifyContent:"center",style:{padding:"10px 10px"},children:(0,i.jsx)(d.Z,{onClick:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t,"pending");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),variant:"contained",sx:{backgroundColor:x.E7},children:"Cancel Rejected"})}):(0,i.jsxs)(u.ZP,{container:!0,xs:0,justifyContent:"center",style:{padding:"10px 10px"},children:[(0,i.jsx)(d.Z,{onClick:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t,"approved");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),variant:"contained",children:"Approve"}),(0,i.jsx)("div",{style:{width:"20px"}}),(0,i.jsx)(d.Z,{onClick:function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t,"rejected");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),variant:"contained",sx:{backgroundColor:x.E7},children:"Reject"}),(0,i.jsx)("div",{style:{width:"20px"}})]})]})}t.default=j,j.getInitialProps=function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,i,u,c,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.req,r=t.query,a=r.id,i=(0,f.h)(n),u=i.token,c=i.user,e.next=5,(0,l.$I)(u,a);case 5:return o=e.sent,console.log(o),e.abrupt("return",{id:a,formData:o,user:c,token:u});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},function(e){e.O(0,[453,774,888,179],(function(){return t=1671,e(e.s=t);var t}));var t=e.O();_N_E=t}]);